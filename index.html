<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Link Chat App</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Login Overlay -->
<div id="login-overlay">
  <div class="login-card">
    <h2>Login to Chat</h2>
    <button id="google-login-btn">Login with Google</button>
  </div>
</div>

<!-- App Grid -->
<div class="app-grid hidden">

  <!-- Left Column -->
  <div class="left-col">
    <div class="brand">
      <div class="logo">ðŸ’¬</div>
      <div class="brand-text">
        <div class="title">Link Chat</div>
        <div class="subtitle">Your Rooms</div>
      </div>
    </div>

    <div class="room-controls">
      <button id="create-chat">Create Chat</button>
      <input type="text" id="room-id" placeholder="Room ID">
      <input type="text" id="room-pass" placeholder="Password">
      <button id="join-room">Join Room</button>
      <p id="room-id-display"></p>
      <p id="room-pass-display"></p>
      <p id="link-display"></p>
    </div>

    <div class="chats-list" id="chats-list"></div>
    <div class="left-footer"><p id="chats-left">Loading...</p></div>
  </div>

  <!-- Main Column -->
  <div class="main-col">
    <div class="topbar">
      <span class="room-title" id="room-title">Select a Chat</span>
      <div class="top-right">
        <img id="profile-avatar" class="avatar" title="Your Profile">
        <button id="logout-btn">Log Out</button>
      </div>
    </div>

    <div class="chat-area">
      <div class="messages-wrap">
        <div class="messages" id="messages"></div>
      </div>
      <div class="composer">
        <input type="text" id="message-input" placeholder="Type a message">
        <button id="send">Send</button>
      </div>
    </div>
  </div>

</div>

<!-- Profile Modal -->
<div id="profile-modal" class="modal hidden">
  <div class="modal-card">
    <!-- Close -->
    <button id="close-profile-view" class="close-btn">âœ–</button>

    <!-- View Mode -->
    <div id="profile-view">
      <img id="view-pfp" src="" alt="avatar">
      <h3 id="view-nickname"></h3>
      <p id="view-username"></p>
      <p id="view-role"></p>
      <p id="view-bio"></p>
      <div id="view-admin-actions"></div>
      <button id="edit-profile-btn" class="hidden">Edit</button>
    </div>

    <!-- Edit Mode -->
    <div id="profile-edit" class="hidden">
      <label>Nickname:</label>
      <input type="text" id="edit-nickname" placeholder="Nickname">
      <label>Username:</label>
      <input type="text" id="edit-username" placeholder="Username">
      <label>Avatar URL:</label>
      <input type="text" id="edit-avatar" placeholder="Avatar URL">
      <p id="username-lock-note"></p>
      <div class="profile-actions">
        <button id="save-profile">Save</button>
        <button id="cancel-edit">Cancel</button>
      </div>
    </div>
  </div>
</div>

<script type="module" src="app.js"></script>
</body>
</html>
