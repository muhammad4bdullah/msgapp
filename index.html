<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Link Chat App</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- LOGIN OVERLAY -->
<div id="login-overlay">
  <div class="login-card">
    <h2>Login to Chat</h2>
    <button id="google-login-btn">Login with Google</button>
  </div>
</div>

<!-- MAIN APP -->
<div class="app-grid hidden">

  <!-- LEFT PANEL -->
  <div class="left-col">
    <div class="left-header">
      <div class="brand">
        <div class="logo">ðŸ’¬</div>
        <div class="brand-text">
          <div class="title">Link Chat</div>
          <div class="subtitle">Your Rooms</div>
        </div>
      </div> 
    </div>

    <!-- ROOM CONTROLS -->
    <div class="room-controls">
      <button id="create-chat">Create Chat</button>
      <input type="text" id="room-id" placeholder="Room ID">
      <input type="text" id="room-pass" placeholder="Password">
      <button id="join-room">Join Room</button>
      <p id="room-id-display"></p>
      <p id="room-pass-display"></p>
      <p id="link-display"></p>
    </div>

    <div class="chats-list" id="chats-list"></div>
    <div class="left-footer"><p id="chats-left">Loading...</p></div>
  </div>

  <!-- MAIN CHAT AREA -->
  <div class="main-col">
    <div class="topbar">
      <div class="top-left">
        <span class="room-title" id="room-title">Select a Chat</span>
      </div>
      <div class="top-right">
        <div class="profile-btn" id="profile-btn" title="Open profile">
          <img src="" class="avatar" id="profile-avatar" alt="avatar">
        </div>
        <button id="logout-btn">Log Out</button>
      </div>
    </div>

    <div class="chat-area">
      <div class="messages-wrap">
        <div class="messages" id="messages"></div>
      </div>
      <div class="composer">
        <input type="text" id="message-input" placeholder="Type a message">
        <button id="send">Send</button>
      </div>
    </div>
  </div>
</div>

<!-- PROFILE MODAL -->
<div class="modal hidden" id="profile-modal">
  <div class="modal-card">
    <!-- VIEW MODE -->
    <div id="profile-view">
      <img id="view-pfp" src="" alt="avatar">
      <p id="view-nickname"></p>
      <p id="view-username"></p>
      <p id="view-role"></p>
      <p id="view-bio"></p>
      <div id="view-admin-actions"></div>
      <button id="close-profile-view">Close</button>
    </div>

    <!-- EDIT MODE -->
    <div id="profile-edit" class="hidden">
      <input type="text" id="edit-nickname" placeholder="Set nickname">
      <input type="text" id="edit-username" placeholder="Set username">
      <input type="file" id="edit-avatar" accept="image/*">
      <p id="username-lock-note"></p>
      <div class="profile-actions">
        <button id="save-profile">Save</button>
        <button id="cancel-edit">Cancel</button>
      </div>
    </div>
  </div>
</div>

<script type="module" src="app.js"></script>
</body>
</html>

